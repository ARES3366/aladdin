# 测试数据

| 数据类别 | 数量  | 备注                                                         |
| -------- | ----- | ------------------------------------------------------------ |
| 正常文本 | 11826 | 需要涵盖尽可能多的领域，如科技、体育、新闻、娱乐、政治、财经。还要有包含政治、色情、赌博敏感词但又合法的文章。 |
| 政治反动 | 3081  | 政治新闻、论文等不属于政治反动。                             |
| 色情     | 1000  | 科普、医学领域的文章不属于色情。                             |
| 赌博     | 1443  | 彩票、股票、财经文章不属于赌博。                             |

通过爬虫等技术手段得到的数据是无法保证数据质量的，因此需要人工进行筛选。

# 测试数据

## 百度云

百度云文本内容检测服务文档：http://ai.baidu.com/docs#/TextCensoring-API/top

| 实际类别\数量\模型预测类别 | 非违禁 | 疑似 | 违禁 | 总数  |
| -------------------------- | ------ | ---- | ---- | ----- |
| 正常                       | 4497   | 3986 | 3343 | 11826 |
| 政治反动                   | 6      | 53   | 2840 | 2899  |
| 色情                       | 37     | 220  | 743  | 1000  |
| 其它                       | 227    | 1124 | 92   | 1443  |
| 总数                       | 4767   | 5383 | 7018 | 17168 |

| 实际类别\数量\模型预测类别 | 合法 | 非法 | 总数  |
| -------------------------- | ---- | ---- | ----- |
| 合法                       | 4497 | 3343 | 7840  |
| 非法                       | 270  | 3675 | 3945  |
| 总数                       | 4767 | 7018 | 11785 |

## 阿里云

阿里云文本垃圾内容检测服务文档：https://help.aliyun.com/document_detail/70439.html?spm=a2c4g.11186623.6.628.321675fdzECT7A

| 实际类别\数量\模型预测类别 | 正常 | 政治反动 | 色情 | 其它 | 总数  |
| -------------------------- | ---- | -------- | ---- | ---- | ----- |
| 正常                       | 6002 | 1626     | 3300 | 898  | 11826 |
| 政治反动                   | 120  | 2705     | 20   | 54   | 2899  |
| 色情                       | 3    | 15       | 862  | 120  | 1000  |
| 其它                       | 1374 | 10       | 13   | 46   | 1443  |
| 总数                       | 7499 | 4356     | 4195 | 1118 | 17168 |

| 实际类别\数量\模型预测类别 | 合法 | 非法 | 总数  |
| -------------------------- | ---- | ---- | ----- |
| 合法                       | 6002 | 5824 | 11826 |
| 非法                       | 1497 | 3845 | 5342  |
| 总数                       | 7499 | 9669 | 17168 |

## pandora

| 实际类别\数量\模型预测类别 | 正常  | 政治反动 | 色情 | 其它 | 总数  |
| -------------------------- | ----- | -------- | ---- | ---- | ----- |
| 正常                       | 11807 | 19       | 0    | 0    | 11826 |
| 政治反动                   | 231   | 2850     | 0    | 0    | 3081  |
| 色情                       | 6     | 26       | 968  | 0    | 1000  |
| 其它                       | 0     | 0        | 0    | 1443 | 1443  |
| 总数                       | 12044 | 2895     | 968  | 1443 | 17350 |

| 实际类别\数量\模型预测类别 | 合法  | 非法 | 总数  |
| -------------------------- | ----- | ---- | ----- |
| 合法                       | 11807 | 19   | 11826 |
| 非法                       | 237   | 5287 | 5524  |
| 总数                       | 12044 | 5306 | 17350 |


# 三个模型的指数比较

**常用的推荐系统评测指标：**

准确率、精确率、召回率和 F 值是在鱼龙混杂的环境中，选出目标的重要评价指标。不妨看看这些指标的定义先：

   TP-将正类预测为正类

   FN-将正类预测为负类

   FP-将负类预测位正类

   TN-将负类预测位负类

 准确率（正确率）=所有预测正确的样本/总的样本  （TP+TN）/总

 精确率=  将正类预测为正类 / 所有预测为正类 TP/（TP+FP）

 召回率 = 将正类预测为正类 / 所有正真的正类 TP/（TP+FN）

 F值 = 正确率 * 召回率 * 2 / (正确率 + 召回率) （F 值即为正确率和召回率的**调和平均值**）

**以合法作为正类、非法作为负类：**

| 模型    | 准确率 | 精确率 | 召回率 | F1值   |
| ------- | ------ | ------ | ------ | ------ |
| 百度云  | 0.6934 | 0.9434 | 0.5736 | 0.6278 |
| 阿里云  | 0.5736 | 0.8004 | 0.5075 | 0.5385 |
| Pandora | 0.9852 | 0.9803 | 0.9984 | 0.992  |

**以非法作为正类，合法作为负类：**

| 模型    | 准确率 | 精确率 | 召回率 | F1值   |
| ------- | ------ | ------ | ------ | ------ |
| 百度云  | 0.6934 | 0.5237 | 0.9316 | 0.7950 |
| 阿里云  | 0.5736 | 0.3977 | 0.7198 | 0.6384 |
| pandora | 0.9852 | 0.9964 | 0.9571 | 0.9709 |

# 结论

​	在现有测试集上，pandora的表现明显更优于百度云与阿里云。