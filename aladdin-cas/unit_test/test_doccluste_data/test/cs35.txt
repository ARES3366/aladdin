whx版权所有版权所有©2006-2016上海爱数信息技术股份有限公司。未经本公司书面许可，任何单位或个人不得以任何形式，复制、传播、摘抄本文档的部分或全部。本文档内容上可能会有增删和修改，上海爱数信息技术股份有限公司会定期将修订后的内容纳入新版本中，如有更改恕不另行通知。目录2第一章概述21.1目的21.2项目背景21.3测试依据31.4术语和缩略语4第二章测试对象5第三章测试环境53.1测试环境概况53.2软件环境53.3硬件环境63.4网络环境63.5测试软件及工具7第四章测试内容及测试结果74.1模块集成测试74.2特殊场景测试74.3性能测试8第五章测试数据分析85.1测试用例执行覆盖率85.2Bug汇总9第六章已知缺陷及处理措施10第七章测试结论11第八章改进建议文档信息	文件状态：[]草稿[√]正式发布[]正在修改	当前版本：	1.0		编写人：	谭小晴	编写日期：	2016-09-27		审批人：		审批日期：	2016-09-27		保密级别：	秘密级修订历史	版本	时间	撰写者	说明	V1.0	2016-09-24	周丹婷		测试任务	负责人	实际开始时间	实际结束时间	工作量（人*天）	测试用例设计	谭小晴	2016/09/01	2016/09/02	2	测试环境搭建	谭小晴	2016/09/05	2016/09/9	5	测试执行	谭小晴	2016/09/12	2016/09/23	10第一章概述1.1目的测试目的：1、验证D2D2B模块与其他模块集成是否存在问题；2、验证D2D2B模块是否稳定，符合发布要求；3、验证D2D2B模块速度是否符合要求。说明：D2D2B即蓝光归档。下文中若出现两种表述，则表达为同一意思。撰写目的：描述AnyBackup6.0.6.0D2D2B系统集成测试的测试方案、测试内容、测试方法及测试结果，目的在于总结整个测试过程，描述模块是否符合发布质量要求。目标读者：测试人员、开发人员、管理人员、售后及售前人员。1.2项目背景在之前的版本中不支持D2D2B归档。本版本新增此功能模块。功能说明：只支持文件定时备份任务对应的任务数据归档至蓝光库。1.3测试依据	资料名称	作者	CB-1046:数据归档到蓝光光盘库	产品规划部	D2D2B交互设计--设计文档	产品设计部图表1测试依据1.4术语和缩略语缩略语表	缩略语	全称	中文解释	D2D2B	DisktoDisktoBlu-rayDisc	文件归档到蓝光光盘库图表2缩略语表第二章测试对象爱数备份存储柜6.0.6.0文件定时备份任务归档到蓝光光盘库爱数备份软件6.0.6.0文件定时备份任务归档到蓝光光盘库第三章测试环境3.1测试环境概况	类型	名称	数量	说明	服务器端	爱数备份存储柜	1	VX1200标配		爱数备份软件	1	虚拟机，内存6GB。		DAM服务器	1	光盘库的管理节点	客户端	Linux&Windows&Aix虚拟机	1	多台，用于测试功能及兼容性测试。	网络	交换机	1	百兆接口		万兆网卡	/	/图表3测试环境概况3.2软件环境	名称	版本	爱数备份存储柜	6.0.6.0	爱数备份软件	6.0.6.0	外接介质服务器	6.0.6.0图表4软件环境表3.3硬件环境	型号	爱数备份存储柜VX1200	DAM服务器	超威	存储柜	华为2285V2图表5爱数备份存储柜硬件配置3.4网络环境图表6网络拓扑图3.5测试软件及工具	软件名称及版本	描述	JIRA	项目与事务跟踪工具	ESXi	Vmware公司主机虚拟化软件	Xshell	Linux远程管理工具图表7测试软件及工具表第四章测试内容及测试结果此次测试需要在爱数备份软件，爱数备份存储柜VX1200产品线上进行，包含D2D2B模块间集成、性能及特殊场景的测试。4.1模块集成测试	测试内容（粒度为测试点）	测试结果	D2D2B与文件备份集成正常	PASS	D2D2B与D2T模块集成正常	PASS	D2D2B与D2D2R2T模块集成正常	PASS	D2D2B跟D2D2T模块集成正常	PASS	D2D2B与数据库模块集成正常	PASS	D2D2B与实时任务、容灾任务集成正常	PASS	D2D2B与远程复制、D2D2C模块集成正常	PASS图表7模块兼容测试4.2特殊场景测试	测试内容（粒度为测试点）	测试结果	控制台所在机房发生搬迁，IP发生变动，调整网络后，可继续执行D2D2B任务，恢复之前的D2D2B归档数据	PASS	D2D2B/D2D2C/D2D2T任务数据源为同一个定时备份任务，且该定时备份任务设置了计划	PASS	D2D2B任务和文件定时任务均设置计划后，计划可正常触发，互不影响	PASS图表8特殊场景测试4.3性能测试	测试内容（粒度为测试点）	测试结果	长期稳定性测试	运行中，目前正常	归档、恢复速度测试（因交换机使用的是100Mbps）	数据量：450G(单个大文件)归档速度：14.39MB/s恢复速度：7.5MB/s数据量：390M(10w小文件)归档速度：84kB/s恢复速度：10kB/s图表9性能测试第五章测试数据分析5.1测试用例执行覆盖率	用例个数	执行个数	覆盖率	40	36	90%图表10测试用例覆盖率统计表说明：其中4个用例未执行，因只有一个蓝光库，以及当前软件版不支持外接介质。5.2Bug汇总	Bug编号	Bug内容描述	Bug状态	PCB-11653	M24-D2D2B-新建D2D2B任务时，数据源列表显示D2T任务	Closed	PCB-11664	M24-D2D2B任务执行结果没有日志记录	Closed	PCB-11668	M24-D2D2B-蓝光光盘库离线后，无法对之前存在的D2D2B任务进行编辑。	Closed	PCB-11686	M24-D2D2B-换包后新建D2D2B任务时，弹出报错	Closed	PCB-11695	M24-D2D2B-归档任务卡住，归档数据量一直为零。	Closed	PCB-11707	M24-D2D2B-海量小文件归档，归档速度比较慢	Closed	PCB-11715	M24-D2D2B-下载浏览数据源时，展开海量小文件（10w）失败	Closed	PCB-11750	M24-D2D2B任务进行下载，选择下载目的地时，不符合要求的客户端需进行过滤	Closed	PCB-11759	D2D2B-数据归档历史记录执行类型里面缺少“下载”选项，功能缺失	Closed	PCB-11768	M24-D2D2B-下载任务历史记录数据来源客户端显示有误	Closed	PCB-11851	M24-D2D2B-新建蓝光归档选择数据源时，不符合要求的客户端需过滤	Closed		图表11Bug列表说明：【PCB-11695】因环境问题引起，非BUG有效考核bug数10个。第六章已知缺陷及处理措施1.归档数据量大，s3ql缓存写满导致缓存卷umount，归档任务卡住的问题。原因：S3ql有个认定的值，和实际磁盘大小的值，没达到认定值时不会自动清缓存，所以一旦认定的值比s3ql磁盘实际值大，将导致写满，蓝光库缓存卷umount。解决办法：修改/bin/container_mount去掉s3ql缓存的设置，重新挂载。在挂载时，会自动检测磁盘大小，设定一个比磁盘小的值。第七章测试结论通过。D2D2B系统集成测试通过，符合验收标准。第八章改进建议对于已知缺陷，后续版本持续优化。D2D2B系统集成测试报告--AnyBackup6.0.6.0WWW.EISOO.COM