 
 
版权所有
版权所有©2003-2017上海爱数信息技术股份有限公司。
未经本公司书面许可，任何单位或个人不得以任何形式，复制、传播、摘抄本文档的部分或全部。
本文档内容上可能会有增删和修改，上海爱数信息技术股份有限公司会定期将修订后的内容纳入新版本中，如有更改恕不另行通知。
 
目 录
第一章 概述  5
1.1 测试目的    5
1.2 项目背景    5
1.3 测试依据    5
1.4 测试环境    5
第二章 测试内容及测试结果   7
2.1 功能性测试   7
2.2 可靠性测试   10
2.3 可移植性测试  10
2.4 易用性测试   11
2.5 可维护性测试  11
2.6 回归性测试   11
第三章 测试数据分析  12
3.1 测试用例执行覆盖率   12
3.2 Bug汇总   12
3.3 Bug修复率  12
3.4 Bug领域分析 12
第四章 已知缺陷及处理措施   13
第五章 测试结论    14
第六章 改进建议    15

 
文档信息
文件状态：
[  ] 草稿
[√] 正式发布
[  ] 正在修改   当前版本：   1.0
    编写人：    陈亚杰 编写日期：   2018/12/27
    审批人：    YYY 审批日期：   
    保密级别：   
修订历史
版本  时间  撰写者 说明
V1.0    2018-12-27  陈亚杰 初稿

测试任务    负责人 实际开始时间  实际结束时间  工作量（人*天）
测试点设计   陈亚杰 2018/12/17  2018/12/17  1
测试用例设计  陈亚杰 2018/12/18  2018/12/19  2
测试环境搭建  AS5.0现有环境   --- --- ---
测试执行（一轮）    陈亚杰 2018/12/20  2018/12/26  7
回归测试    陈亚杰 2018/12/26  2018/12/26  1

 [注：修订历史中的版本定义为伴随5.0.0.0第一次发布时为1.0，5.0.0.0版本第二次对外发布为V1.1，5.0.1.0第一次发布时为V2.0，以此类推。]
 
第一章 概述
1.1 测试目的
[此处写此次测试的目的及测试报告编写目的/概述。以下为参考]
【测试目的】：
    1.测试开启/关闭自动清理策略，新增、编辑、删除、搜索自动清理策略等管理接口
2.测试指定个人文档自动清理功能
【撰写目的】：
描述指定个人文档自动清理功能，目的在于总结整个测试过程，描述该功能是否符合发布质量要求。
【目标读者】：
测试人员、开发人员、管理人员、售后及售前人员。

1.2 项目背景
[此处写此次测试的项目背景。以下为参考]
用户DMZ区和管理网各部署一套anyshare。dmz区anyshare使用空间有限，要求用户指定文件目录，定期清理，需要实现指定文件夹定期自动清理。
1.3 测试依据
[需求、设计、测试用例、测试使用的国家标准、行业指标、公司规范和质量手册以及其他项目文档都可参考。以下为参考示例]
资料名称    作者
ANR-3379【售前需求】anyshare外网指定个人文档定期自动清理-海关总署   产品设计部
图表 1 测试依据

1.4 测试环境
[此处内容为测试环境中的软件、硬件、网络环境概况说明，根据实际情况进行填写。要求用表格或图片的形式，如有需要则使用文字进行补充说明。以下为参考] 
类型  名称  数量  说明
服务器端    10.2.64.65  1   爱数 AnyShare 5.0.31.8552 (20181226)
客户端         
图表 2 测试环境概况
 
第二章 测试内容及测试结果
[此处根据实际情况进行填写，注意该模块所有测试过的内容都需要写上来，不要有遗漏。并添加测试方法是手动测试ST、自动化测试AT、还是既手动测试，又实现了自动化用例ST/AT]
2.1 功能性测试
[功能性测试包含基本功能测试，模块安全性测试]
   基本功能测试
测试内容（粒度为测试点）    测试方式    测试结果
获取自动清理策略状态，默认关闭自动清理策略   AT  PASS
开启自动清理策略，开启成功   AT  PASS
关闭自动清理策略，关闭成功   AT  PASS
自动清理策略开关可重复开启和关闭    AT  PASS
获取自动清理策略状态，获取到的值与设置一致   AT  PASS
获取回收站数据保留配置，默认不开启保留回收站策略，保留时间默认为30天 AT  PASS
开启保留回收站数据，回收站保留时间小于1天，设置失败  AT  PASS
开启保留回收站数据，回收站保留时间大于等于1天，设置成功    AT  PASS
关闭保留回收站数据，回收站保留时间小于1天，设置失败  AT  PASS
关闭保留回收站数据，回收站保留时间大于等于1天，设置成功    AT  PASS
获取回收站数据保留配置，获取到的配置与设置一致 AT  PASS
管理员不开启回收站数据保留时间，getretentiondays获取到的回收站数据保留时间为通过setretentiondays设置的时间，admincontrol为false    AT  PASS
管理员开启回收站数据保留时间，getretentiondays获取到的回收站数据保留时间为管理员设置的时间，admincontrol为true AT  PASS
管理员开启回收站数据保留时间，仍可通过setretentiondays设置回收站数据保留时间，不抛错  AT  PASS
添加自动清理策略，用户和部门列表均为空，抛错  AT  PASS
添加自动清理策略，用户或部门列表中有一个或多个用户或部门不存在，抛错（错误提示中包含所有不存在的用户或部门）  AT  PASS
可单独给组织、用户或部门添加清理策略  AT  PASS
用户或部门已存在清理策略，再次添加清理策略，抛错（错误提示中包含所有已存在清理策略的用户或部门）    AT  PASS
添加自动清理策略，清理周期为空，抛错  AT  PASS
添加自动清理策略，清理周期小于1天，抛错    AT  PASS
添加自动清理策略，清理周期大于等于1天，不启用数据保留时间，自动清理策略添加成功    AT  PASS
添加自动清理策略，清理周期大于等于1天，启用数据保留时间，数据保留时间大于或等于清理周期，抛错 AT  PASS
添加自动清理策略，清理周期大于等于1天，启用数据保留时间，数据保留时间小于清理周期，自动清理策略添加成功    AT  PASS
策略创建成功后返回策略id，可获取到下次清理时间和策略创建时间 AT  PASS
添加自动清理策略，忽略strategyId   AT  PASS
编辑自动清理策略，策略id为空或不存在，编辑失败    AT  PASS
编辑自动清理策略，用户和部门列表均为空，抛错  AT  PASS
编辑自动清理策略，用户或部门列表中有有一个或多个用户或部门不存在，抛错（错误提示中包含所有不存在的用户或部门） AT  PASS
编辑自动清理策略，有用户或部门已存在清理策略，编辑失败，抛错（错误提示中包含所有已存在清理策略的用户或部门）  AT  PASS
编辑自动清理策略，清理周期为空，抛错  AT  PASS
编辑自动清理策略，清理周期小于1天，抛错    AT  PASS
编辑自动清理策略，清理周期大于等于1天，不启用数据保留时间，编辑成功  AT  PASS
编辑自动清理策略，清理周期大于等于1天，启用数据保留时间，数据保留时间大于或等于清理周期，编辑失败   AT  PASS
编辑自动清理策略，清理周期大于等于1天，启用数据保留时间，数据保留时间小于清理周期，编辑成功  AT  PASS
策略编辑成功后，可获取到策略更新时间和下次清理时间   AT  PASS
可启用和禁用默认策略的状态   AT  PASS
删除自动清理策略，策略id为空，不抛错 AT  PASS
删除自动清理策略，策略id不存在，不抛错，跳过 AT  PASS
自动清理策略中的用户和部门均不存在时，该条策略被自动删除    AT  PASS
删除自动清理策略，策略id存在，删除成功    AT  PASS
删除默认策略，删除失败 AT  PASS
获取自动清理策略总数，搜索关键字为空，返回所有清理策略总数   AT  PASS
根据关键字获取自动清理策略总数，无匹配的策略，返回为0 AT  PASS
根据关键字获取自动清理策略总数，有匹配结果，返回匹配到的总策略数    AT  PASS
默认清理策略默认不开启数据保留时间，保留时间默认为24h，默认状态为关闭，适用对象为所有用户，且始终在首行   AT  PASS
分页搜索自动清理策略，可根据用户和部门名称搜索 AT  PASS
根据关键字分页搜索自动清理策略，start小于0，抛错 AT  PASS
根据关键字分页搜索自动清理策略，start大于总策略数，返回空列表   AT  PASS
根据关键字分页搜索自动清理策略，limit小于-1，抛错    AT  PASS
根据关键字分页搜索自动清理策略，limit为0，返回空列表   AT  PASS
根据关键字分页搜索自动清理策略，start为0，limit大于0小于等于总匹配策略数，返回limit条匹配结果 AT  PASS
根据关键字分页搜索自动清理策略，start大于0，limit大于0小于等于总匹配策略数减start，从第start条开始返回，返回limit条匹配结果 AT  PASS
根据关键字分页搜索自动清理策略，start大于0，limit等于-1或大于总匹配策略数减start，返回start到最后的匹配结果   AT  PASS
根据关键字分页搜索自动清理策略，start为0，limit为-1，返回所有匹配结果   AT  PASS
根据关键字分页搜索自动清理策略，无匹配结果，返回空列表 AT  PASS
分页搜索自动清理策略，搜索关键字为空，返回所有清理策略 AT  PASS
获取自动清理策略，策略按照创建时间由近及远排列 AT  PASS
清理策略中用户或部门被删除后，搜索该策略，则获取到的策略用户和部门列表中不包含被删除的用户和部门    AT  PASS
用户id为空或不存在，根据用户id获取最后生效的策略，获取失败 AT  PASS
用户存在清理策略，获取最后生效的策略，获取成功 AT  PASS
默认策略开启，用户存在清理策略，获取最后生效的策略，返回用户的策略   AT  PASS
用户不存在清理策略，获取最后生效的策略，返回默认策略  AT  PASS
一个部门及部门下的用户均存在自动清理策略，以用户的清理策略为准 AT  PASS
用户所在的上级部门A和上上级部门B均存在清理策略，以用户直接上级部门A的清理策略为准  AT  PASS
用户同时隶属于部门A和部门A的上级部门B，部门A和B均存在清理策略，以部门A的清理策略为准   AT  PASS
一个用户属于多个无隶属关系的部门，每个部门均存在自动清理策略，以最新的清理策略为准   AT  PASS
用户移动到新部门后，以新部门的清理策略为准   AT  PASS
部门下新增的用户以该部门的清理策略为准 AT  PASS
清理策略被编辑后，用户以新策略为准   AT  PASS
用户及其所在部门的策略被删除后，用户无清理策略 AT  PASS
默认策略开启，获取待清理的用户id，返回所有用户id  AT  PASS
默认策略禁用，无其他清理策略，获取待清理的用户id，返回为空  AT  PASS
默认策略禁用，组织部门和用户存在清理策略，获取待清理的用户id，返回存在清理策略的所有用户和组织部门下的用户  AT  PASS
不存在其他清理策略，禁用默认策略，不会自动清理 AT  PASS
不存在其他清理策略，启用默认策略，第二天零点自动清理所有用户的个人文档 AT  PASS
新增策略，第二天零点自动清理一次，然后根据清理周期计算下次清理时间，到时间后自动进行清理    AT  PASS
编辑策略的清理周期，第二天零点自动清理一次，然后根据清理周期计算下次清理时间，到时间后自动进行清理   AT  PASS
编辑策略，不修改清理周期，第二天零点不会自动清理，直到清理周期到达才清理    AT  PASS
自动清理时，用户的个人文档将被删除到回收站，群组文档及文档库的数据不会被删除  AT  PASS
启用数据保留时间，清理个人文档时，最新修改时间未超过数据保留时间的文档不会被删除    AT  PASS
自动清理时，以前被清理后又还原的数据也会再次被清理   AT  PASS
关闭自动清理策略，到达清理时间时，个人文档数据不会被自动清理  AT  PASS
关闭后再启用自动清理策略，第二天零点清理一次，然后根据清理周期计算时间，到达清理时间后进行清理 AT  PASS
图表 4 功能测试测试内容表

   模块安全性测试：sql注入 跨域 xss注入
测试内容（粒度为测试点）    测试方式    测试结果
添加自动清理策略，strategyId防SQL注入   AT  PASS
添加自动清理策略，对象id和name防sql注入    AT  PASS
编辑自动清理策略，防SQL注入 AT  PASS
删除自动清理策略，防SQL注入 AT  PASS
获取自动清理策略总数，防SQL注入   AT  PASS
分页搜索自动清理策略，防SQL注入   AT  PASS
根据用户id获取最后生效的清理策略，防SQL注入    AT  PASS
图表 5 安全性测试内容表

2.2 可靠性测试
[主要包含内容为异常测试，测试对象包含控制台，客户端，介质服务器，存储等。异常种类包括服务停止/重启，断电/重启/关机，断网，进程崩溃，空间不足等；还包含系统运行过程中产生的日志和执行输出的手动/自动清理测试]
   异常测试：
测试内容（粒度为测试点）    测试结果
Xxx 
……  
图表 6 可靠性（异常）测试内容表

2.3 可移植性测试
[主要为兼容性，可分为浏览器兼容性，操作系统兼容性，存储兼容性，语言，控制台类型兼容等]
   兼容性测试： 
测试内容    测试结果
……  
图表 7 兼容测试测试内容表

2.4 易用性测试
[提示信息易理解、用户易掌握使用的方法类说明]
测试内容    测试结果
……  
图表 8 易用性测试内容表

2.5 可维护性测试
[开发易定位、修复模块问题说明]
测试内容    测试结果
……  
图表 9 可维护性测试内容表
2.6 回归性测试
测试内容（与该需求相关的模块的测试点） 测试结果
用户回收站策略功能中设置和获取回收站数据保留时间    PASS
用户回收站指定时间删除 PASS

 
第三章 测试数据分析
3.1 测试用例执行覆盖率
用例个数    执行个数（个） 覆盖率
88  88  100%

图表 13 用例执行覆盖率统计表
3.2 Bug汇总
Bug ID  Bug描述   Reporter    Assign  Status
--- 编辑清理策略时，用户和部门列表均为空时可编辑成功    陈亚杰 吴彦起 Close
--- 编辑策略返回的下次清理时间与搜索策略时获取到的策略下次清理时间不一致  陈亚杰 吴彦起 Close
DAEG-27764  【指定用户个人文档自动清理-AT】管理员设置回收站保留时间后，到时间后，回收站数据未被删除   陈亚杰 吴彦起 Close
图表 14 Bug汇总表

3.3 Bug修复率
Bug 总数  已修复（个）  未修复（个）
3   3   0
图表 15 bug修复统计表

3.4 Bug领域分析
    UI层 bug 业务层bug  性能bug   稳定性bug  汇总
bug个数   0   3   0   0   3
图表 16 bug领域分析表
 
第四章 已知缺陷及处理措施
[本章写测试人员基于本模块功能测试的已知缺陷和处理措施，可以包括操作中需要特别注意的地方，已知但还没解决的问题，以下为参考]
编号  缺陷描述    处理措施
1   Xxx Xxx
2   ……  

 
第五章 测试结论

[测试结论分为通过/不通过，参考以下格式】
需求ANR-3379指定个人文档定期自动清理中，测试用例覆盖了所有需求验收标准，经过需求测试和回归测试，测试用例执行覆盖率为100%，bug修复率达到100%，功能趋于稳定，建议通过。

 
第六章 改进建议
[1．对系统存在问题的说明，描述测试所揭露的软件缺陷和不足，以及可能给软件实施和运行带来的影响 
2．可能存在的潜在缺陷和后续工作 
3．对缺陷修改和产品设计的建议 
4．对过程改进方面的建议 ]










上海爱数信息技术股份有限公司
Shanghai EISOO Information Technology Corp.
………………………………………………………………………..…………………………………………………………………………………………………………….
总部地址：上海市联航路1188号浦江智谷8号楼2层
邮　　编：201112
咨询热线：021-54222601
服务热线：400-880-1569
传　　真：021-54222601-8800
客服邮箱：support@eisoo.com
